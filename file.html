<!DOCTYPE html>
<html>
<head>
    <title>Dino Run</title>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #f7f7f7; font-family: monospace; }
        canvas { background: white; border-bottom: 2px solid #535353; }
    </style>
</head>
<body>
    <div style="position: absolute; top: 20px;">Score: <span id="s">0</span></div>
    <canvas id="g"></canvas>

    <script>
        const canvas = document.getElementById('g');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('s');

        canvas.width = 800; canvas.height = 200;

        let score = 0, gameSpeed = 6, isGameOver = false, frame = 0, obstacles = [];
        const dino = { x: 50, y: 150, w: 40, h: 40, dy: 0, grounded: false };

        function drawDino() {
            ctx.fillStyle = "#535353";
            // Simple "Dino" shape using rectangles
            ctx.fillRect(dino.x, dino.y, dino.w, dino.h); // Body
            ctx.fillRect(dino.x + 25, dino.y - 10, 20, 20); // Head
        }

        function drawCactus(x, y, w, h) {
            ctx.fillStyle = "#ff4d4d";
            ctx.fillRect(x, y, w, h);
        }

        function update() {
            if (isGameOver) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            frame++;

            // Physics
            dino.dy += 0.6; // gravity
            dino.y += dino.dy;
            if (dino.y > 150) { dino.y = 150; dino.dy = 0; dino.grounded = true; }

            drawDino();

            // Spawn
            if (frame % 100 === 0) obstacles.push({ x: 800, y: 160, w: 20, h: 40 });

            for (let i = obstacles.length - 1; i >= 0; i--) {
                let o = obstacles[i];
                o.x -= gameSpeed;
                drawCactus(o.x, o.y, o.w, o.h);

                // Collision
                if (dino.x < o.x + o.w && dino.x + dino.w > o.x && dino.y < o.y + o.h && dino.y + dino.h > o.y) {
                    isGameOver = true;
                    alert("Game Over! Score: " + score);
                    location.reload(); 
                }

                if (o.x + o.w < 0) {
                    obstacles.splice(i, 1);
                    score++;
                    gameSpeed += 0.2;
                    scoreEl.innerText = score;
                }
            }
            requestAnimationFrame(update);
        }

        window.onkeydown = (e) => { if (e.code === 'Space' && dino.grounded) { dino.dy = -12; dino.grounded = false; } };
        update();
    </script>
</body>
</html>
